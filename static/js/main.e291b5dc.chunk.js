(this.webpackJsonpnetflix_clone=this.webpackJsonpnetflix_clone||[]).push([[0],{44:function(e,t,a){e.exports=a(92)},49:function(e,t,a){},71:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(49),a(11)),i=a(9),s=a(8),u=a.n(s),m=a(12),E=a(35),d=a.n(E).a.create({baseURL:"https://api.themoviedb.org/3"}),f=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){return function(){var a=Object(m.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"GET_".concat(t)}),a.prev=1,a.next=4,f(e);case 4:r=a.sent,n({type:"GET_".concat(t,"_SUCCESS"),movies:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"GET_".concat(t,"_FAIL"),e:a.t0});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},v={TRENDING:{data:null,loading:!1,error:null},TOPRATED:{data:null,loading:!1,error:null},COMEDY:{data:null,loading:!1,error:null},ADVENTURE:{data:null,loading:!1,error:null},NORIGINALS:{data:null,loading:!1,error:null}},b=function(e,t){var a="".concat(e,"_SUCCESS"),n="".concat(e,"_ERROR");return function(r,c){switch(c.type){case e:return Object(i.a)({},r,Object(l.a)({},t,Object(i.a)({},r,{loading:!0})));case a:return Object(i.a)({},r,Object(l.a)({},t,Object(i.a)({},r,{data:c.movies})));case n:return Object(i.a)({},r,Object(l.a)({},t,Object(i.a)({},r,{error:c.error})));default:return r}}};var h=a(7),g=a(3),O=(a(71),a(37)),N=a(40),T=a.n(N);var _=function(e){var t=e.movieName,a=Object(n.useState)(""),c=Object(g.a)(a,2),o=c[0],l=c[1];return o?r.a.createElement(O.a,{videoId:o,opts:{height:"390",width:"100%",playerVars:{autoplay:1}}}):(T()(t).then((function(e){var t=new URLSearchParams(new URL(e).search);l(t.get("v"))})).catch((function(e){alert("Trailer for this movie is currently unavailable in movie-trailer api. Try clicking another movie")})),null)};var j=function(e){var t=e.data,a=e.isLarge,c=e.title,o=Object(n.useState)([]),l=Object(g.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)(""),m=Object(g.a)(u,2),E=m[0],d=m[1],f=Object(n.useState)(!1),p=Object(g.a)(f,2),v=p[0],b=p[1];return Object(n.useEffect)((function(){s(t.data.results)}),[t]),r.a.createElement("div",{className:"row"},r.a.createElement("h2",{className:"row titles"},c),r.a.createElement("div",{className:"row posters"},i.map((function(e){return r.a.createElement("img",{key:e.id,onClick:function(){return t=e.title||e.name,d(t),void b(!v);var t},className:"row poster ".concat(a&&"row largePoster"),src:a?"".concat("https://image.tmdb.org/t/p/original").concat(e.poster_path):"".concat("https://image.tmdb.org/t/p/original").concat(e.backdrop_path),alt:e.title})}))),E&&v&&r.a.createElement(_,{movieName:E}))};var y=function(e){var t=e.url,a=e.title,c=e.isLarge,o=e.type,l=Object(h.c)((function(e){return e[o]})),i=l.data,s=l.loading,u=l.error,m=Object(h.b)();return Object(n.useEffect)((function(){m(p(t,o))}),[m,t,o]),i?(s&&console.log("loading"),u&&console.log(u),r.a.createElement(j,{data:i,isLarge:c,title:a})):null},w="47223dc77b02e3169fa9047461b75c36",S={fetchTrending:"/trending/all/day?api_key=".concat(w),fetchTopRated:"/movie/top_rated?api_key=".concat(w,"&language=en-US"),fetchComedy:"/discover/movie?api_key=".concat(w,"&with_genres=35"),fetchAdventure:"/discover/movie?api_key=".concat(w,"&with_genres=12"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(w,"&with_networks=213")};a(85);var R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{style:{width:"24",height:"24"}},r.a.createElement("path",{className:"nav icon",stroke:"white",fill:"transparent",strokeWidth:"3",d:"M15,15 L22,22 L15,15 Z M9.5,17 C13.6421356,17 17,13.6421356 17,9.5 C17,5.35786438 13.6421356,2 9.5,2 C5.35786438,2 2,5.35786438 2,9.5 C2,13.6421356 5.35786438,17 9.5,17 Z"})))},G=a(1);var C=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],c=t[1],o=Object(n.useRef)(),l=Object(G.e)();return Object(n.useEffect)((function(){l.push("/Netflix_Clone/search?query=".concat(a))}),[l,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{autoFocus:!0,type:"text",ref:o,onChange:function(){c(o.current.value)},placeholder:"Press esc to exit",onKeyDown:function(e){27===e.keyCode&&l.push("/Netflix_Clone")}}))};var k=function(e){var t=e.showIcon,a=Object(n.useState)(!1),c=Object(g.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){var e=function(){window.scrollY>100?l(!0):l(!1)};return window.addEventListener("scroll",(function(){return e()})),function(){window.removeEventListener("scroll",e())}}),[]),r.a.createElement("div",{className:"nav ".concat((o||!t)&&"black")},r.a.createElement("div",null,r.a.createElement("img",{className:"nav logo",src:"https://upload.wikimedia.org/wikipedia/commons/0/0f/Logo_Netflix.png",alt:"Netflix Logo"})),r.a.createElement("div",{style:{paddingRight:"3.125rem"}},u||!t?r.a.createElement(C,null):r.a.createElement("div",{onClick:function(){m(!0)}},r.a.createElement(R,null))))};a(87);var I=function(e){var t=e.data,a=Object(n.useState)([]),c=Object(g.a)(a,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){l(t.data.results[0])}),[t]),r.a.createElement("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:"url(".concat("https://image.tmdb.org/t/p/original").concat(o.backdrop_path,")"),backgroundPosition:"center center"}},r.a.createElement("div",{className:"banner content"},r.a.createElement("h1",{className:"banner title"},o.title||o.name),r.a.createElement("div",{className:"banner buttons"},r.a.createElement("button",{className:"banner button"},"Play"),r.a.createElement("button",{className:"banner button"},"List")),r.a.createElement("h1",{className:"banner description"},o.overview)),r.a.createElement("div",{className:"banner fadeBottom"}))};var D=function(){var e=Object(h.c)((function(e){return e.TRENDING})),t=e.data,a=e.loading,c=e.error,o=Object(h.b)();return Object(n.useEffect)((function(){o(p(S.fetchTrending,"TRENDING"))}),[o]),t?(a&&console.log("loading"),c&&console.log(c),r.a.createElement(I,{data:t})):null};a(88);var A=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(k,{showIcon:!0}),r.a.createElement(D,null),r.a.createElement(y,{title:"Netflix Originals",url:S.fetchNetflixOriginals,isLarge:!0,type:"NORIGINALS"}),r.a.createElement(y,{title:"Trending Now",url:S.fetchTrending,type:"TRENDING"}),r.a.createElement(y,{title:"Top Rated",url:S.fetchTopRated,type:"TOPRATED"}),r.a.createElement(y,{title:"Comedy",url:S.fetchComedy,type:"COMEDY"}),r.a.createElement(y,{title:"Adventure",url:S.fetchAdventure,type:"ADVENTURE"}))},L=a(41),x=a.n(L);a(91);var U=function(e){var t=e.url,a=Object(n.useState)([]),c=Object(g.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(0),s=Object(g.a)(i,2),E=s[0],f=s[1],p=Object(n.useState)(""),v=Object(g.a)(p,2),b=v[0],h=v[1],O=Object(n.useState)(!1),N=Object(g.a)(O,2),T=N[0],j=N[1];for(Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get(t);case 2:return a=e.sent,l(a.data.results),a.data.total_results>=20?f(5):f(Math.floor(a.data.total_results/4)+1),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);"/search/movie?api_key=47223dc77b02e3169fa9047461b75c36&query="!==t;)return r.a.createElement(r.a.Fragment,null,b&&T&&r.a.createElement(_,{movieName:b}),r.a.createElement("div",{className:"grid",style:{gridTemplateRows:"repeat(".concat(E,", 12.5rem)")}},o.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("img",{onClick:function(){return t=e.title||e.name,h(t),void j(!T);var t},key:t,src:"".concat("https://image.tmdb.org/t/p/original").concat(e.backdrop_path),alt:e.title,className:"poster",style:{color:"white"}}))}))));return null};var P=function(e){var t=e.location,a=x.a.parse(t.search,{ignoreQueryPrefix:!0}).query;console.log("loaded search");var n="/search/movie?api_key=47223dc77b02e3169fa9047461b75c36&query=".concat(a);return r.a.createElement("div",{className:"app",style:{backgroundColor:"#111",height:"1100px"}},r.a.createElement(k,{showIcon:!1}),r.a.createElement(U,{url:n}))},M=function(){return r.a.createElement("div",null,r.a.createElement(G.a,{path:"/Netflix_Clone",exact:!0,component:A}),r.a.createElement(G.a,{path:"/Netflix_Clone/search",component:P}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(16),V=a(10),Y=a(42),q=a(43),W=Object(V.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TRENDING":case"GET_TRENDING_SUCCESS":case"GET_TRENDING_FAIL":return b("GET_TRENDING","TRENDING")(e,t);case"GET_TOPRATED":case"GET_TOPRATED_SUCCESS":case"GET_TOPRATED_FAIL":return b("GET_TOPRATED","TOPRATED")(e,t);case"GET_COMEDY":case"GET_COMEDY_SUCCESS":case"GET_COMEDY_FAIL":return b("GET_COMEDY","COMEDY")(e,t);case"GET_ADVENTURE":case"GET_ADVENTURE_SUCCESS":case"GET_ADVENTURE_FAIL":return b("GET_ADVENTURE","ADVENTURE")(e,t);case"GET_NORIGINALS":case"GET_NORIGINALS_SUCCESS":case"GET_NORIGINALS_FAIL":return b("GET_NORIGINALS","NORIGINALS")(e,t);default:return e}}),Object(q.composeWithDevTools)(Object(V.applyMiddleware)(Y.a)));o.a.render(r.a.createElement(F.a,null,r.a.createElement(h.a,{store:W},r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.e291b5dc.chunk.js.map